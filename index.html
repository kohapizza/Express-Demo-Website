<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Express ‚Äî an interactive development environment for lightblue, the formal Japanese NLI system. Tame the branching problem step by step.">
  <meta property="og:title" content="Express ‚Äî Interactive IDE for lightblue">
  <meta property="og:description" content="Tame the branching problem in formal Japanese NLI. Built in Haskell, BSD 3-Clause.">
  <meta property="og:type" content="website">
  <title>Express ‚Äî Interactive IDE for lightblue</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<a class="skip-link" href="#main">Skip to main content</a>

<!-- ‚ïê‚ïê‚ïê Navigation ‚ïê‚ïê‚ïê -->
<header class="site-header" role="banner">
  <nav class="nav" aria-label="Main navigation">
    <a class="nav-logo" href="#hero" aria-label="Express ‚Äî home">
      <span class="nav-logo-mark" aria-hidden="true">‚¨°</span> Express
    </a>
    <button class="nav-toggle" aria-controls="nav-menu" aria-expanded="false" aria-label="Toggle navigation">
      <span></span><span></span><span></span>
    </button>
    <ul class="nav-menu" id="nav-menu" role="list">
      <li><a class="nav-link" href="#features">Features</a></li>
      <li><a class="nav-link" href="#demo">Demo</a></li>
      <li><a class="nav-link" href="#how-it-works">How It Works</a></li>
      <li><a class="nav-link" href="#install">Install</a></li>
    </ul>
    <a class="btn btn-nav-github" href="https://github.com/DaisukeBekki/lightblue" target="_blank" rel="noopener noreferrer">
      <svg aria-hidden="true" width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.942.359.31.678.921.678 1.856 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z"/></svg>
      GitHub
    </a>
  </nav>
</header>

<main id="main">

<!-- ‚ïê‚ïê‚ïê Hero ‚ïê‚ïê‚ïê -->
<section id="hero" class="hero-section" aria-labelledby="hero-title">
  <div class="container hero-inner">
    <div class="hero-text">
      <div class="hero-eyebrow">
        <span class="lang-badge">Haskell</span>
        <span class="license-pill">BSD 3-Clause</span>
      </div>
      <h1 id="hero-title" class="hero-title">Express</h1>
      <p class="hero-sub">
        An interactive development environment for
        <a href="https://github.com/DaisukeBekki/lightblue" class="hero-link">lightblue</a>,
        the formal Japanese NLI system built on CCG and Dependent Type Semantics.
      </p>
      <p class="hero-tagline">
        Stop scrolling through hundreds of paths.<br>
        Select one branch at a time.
      </p>

      <div class="install-cmd" aria-label="Launch command">
        <span class="install-prompt" aria-hidden="true">$</span>
        <code id="install-code">docker run -p 3000:3000 kohapizza/express</code>
        <button class="copy-btn" aria-label="Copy command" data-copy="docker run -p 3000:3000 kohapizza/express">
          <svg aria-hidden="true" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/></svg>
          <span class="copy-label">Copy</span>
        </button>
      </div>

      <div class="hero-ctas">
        <a href="https://github.com/DaisukeBekki/lightblue" class="btn btn-primary" target="_blank" rel="noopener noreferrer">
          <svg aria-hidden="true" width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.942.359.31.678.921.678 1.856 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z"/></svg>
          View on GitHub
        </a>
        <a href="#demo" class="btn btn-outline-inv">
          <svg aria-hidden="true" width="14" height="14" viewBox="0 0 24 24" fill="currentColor"><polygon points="5,3 19,12 5,21"/></svg>
          Watch Demo
        </a>
      </div>
    </div>

    <div class="hero-stats" aria-label="Key results">
      <div class="stat-item">
        <span class="stat-num">96%</span>
        <span class="stat-desc">fewer paths explored</span>
      </div>
      <div class="stat-divider" aria-hidden="true"></div>
      <div class="stat-item">
        <span class="stat-num">4√ó faster</span>
        <span class="stat-desc">task completion</span>
      </div>
      <div class="stat-divider" aria-hidden="true"></div>
      <div class="stat-item">
        <span class="stat-num">~12√ó</span>
        <span class="stat-desc">faster debug turnaround</span>
      </div>
    </div>
  </div>
</section>

<!-- ‚ïê‚ïê‚ïê Features ‚ïê‚ïê‚ïê -->
<section id="features" class="section" aria-labelledby="features-title">
  <div class="container">
    <h2 id="features-title" class="section-title">What Express does</h2>
    <p class="section-desc">
      lightblue's inference pipeline ‚Äî CCG parsing, type checking, proof search ‚Äî produces hundreds of
      disambiguation paths. Express gives you interactive control at every step.
    </p>

    <div class="features-grid">

      <article class="feature-card" aria-label="Investigate: Substring Analysis">
        <div class="feature-icon" aria-hidden="true">üîç</div>
        <h3>Substring Analysis</h3>
        <p>
          Click any span of the input to instantly view all CCG parsing candidates for that substring.
          Diagnose local parsing issues without re-running the full pipeline.
        </p>
        <figure>
          <img
            src="assets/feature_substring.png"
            alt="Substring 'Taro ran' is selected; 32 parsing candidates appear instantly as collapsible cards, each showing a CCG syntactic type and DTS semantic representation."
            class="feature-img lightbox-trigger"
            loading="lazy"
            width="800" height="500"
          >
          <figcaption>32 candidates for "Taro ran" ‚Äî instant, no recomputation</figcaption>
        </figure>
      </article>

      <article class="feature-card" aria-label="Explore: Interactive Branch Selection">
        <div class="feature-icon" aria-hidden="true">üåø</div>
        <h3>Interactive Branch Selection</h3>
        <p>
          Syntactic structures and type-checking outcomes are shown as collapsible cards.
          Pick one at each stage. Haskell's lazy evaluation means you only compute what you actually look at.
        </p>
        <figure>
          <img
            src="assets/feature_branch.jpg"
            alt="Multiple syntactic structure cards displayed side-by-side; the selected card is highlighted in blue before proceeding to type checking."
            class="feature-img lightbox-trigger"
            loading="lazy"
            width="800" height="500"
          >
          <figcaption>Select one card, proceed ‚Äî no exponential blowup</figcaption>
        </figure>
      </article>

      <article class="feature-card" aria-label="Share: Proof Search Query Export">
        <div class="feature-icon" aria-hidden="true">üì§</div>
        <h3>Proof Search Query Export</h3>
        <p>
          Found a proof search failure? Export the exact query as a file directly loadable by
          <em>wani</em>. Share a precise, reproducible artifact instead of a screenshot.
        </p>
        <figure>
          <img
            src="assets/feature_export.png"
            alt="Export screen showing the proof search query in DTS format with a Save button to download a wani-loadable file."
            class="feature-img lightbox-trigger"
            loading="lazy"
            width="800" height="500"
          >
          <figcaption>One-click export ‚Üí shareable, directly loadable file</figcaption>
        </figure>
      </article>

    </div>
  </div>
</section>

<!-- ‚ïê‚ïê‚ïê Demo ‚ïê‚ïê‚ïê -->
<section id="demo" class="section alt-section" aria-labelledby="demo-title">
  <div class="container">
    <h2 id="demo-title" class="section-title">See it in action</h2>

    <div class="video-single">
      <div class="video-container"
        data-video="assets/express_demo.mp4"
        data-muted="true"
        data-label="Express demo"
        role="region"
        aria-label="Express demo video"
      ></div>
    </div>
  </div>
</section>

<!-- ‚ïê‚ïê‚ïê How It Works ‚ïê‚ïê‚ïê -->
<section id="how-it-works" class="section" aria-labelledby="how-title">
  <div class="container">
    <h2 id="how-title" class="section-title">How it works</h2>
    <p class="section-desc">
      Express wraps the lightblue pipeline in an interactive shell.
      Two explicit selection points prevent multiplicative branching.
    </p>

    <div class="pipeline" aria-label="Inference pipeline">
      <div class="pipeline-step">
        <div class="pipeline-num" aria-hidden="true">1</div>
        <h3>CCG/DTS Parsing</h3>
        <p>Multiple syntactic structures arise from PP-attachment ambiguities or alternative CCG types. DTS semantics is composed for each.</p>
        <span class="pipeline-tag pipeline-tag--select">You select here</span>
      </div>
      <div class="pipeline-arrow" aria-hidden="true">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>
      </div>
      <div class="pipeline-step">
        <div class="pipeline-num" aria-hidden="true">2</div>
        <h3>Type Checking &amp; Anaphora Resolution</h3>
        <p>Underspecified terms trigger anaphora resolution, yielding multiple type-checking outcomes. Each sentence's type context propagates forward.</p>
        <span class="pipeline-tag pipeline-tag--select">You select here</span>
      </div>
      <div class="pipeline-arrow" aria-hidden="true">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>
      </div>
      <div class="pipeline-step">
        <div class="pipeline-num pipeline-num--out" aria-hidden="true">‚úì</div>
        <h3>Proof Search <em>(wani)</em></h3>
        <p>The theorem prover runs on the path you selected. Export the query at any point ‚Äî even before it finishes.</p>
        <span class="pipeline-tag pipeline-tag--output">YES / NO / UNKNOWN</span>
      </div>
    </div>

    <div class="branching-note">
      <figure>
        <img
          src="assets/figure_branching.jpg"
          alt="Diagram: without Express, k sentences √ó i syntactic structures √ó j type-checking outcomes gives 2¬∑(i¬∑j)^k proof search candidates. With Express, the user selects one path, so no branching occurs."
          class="figure-img lightbox-trigger"
          loading="lazy"
          width="1200" height="480"
        >
        <figcaption>
          Without Express: up to <strong>2¬∑(i¬∑j)<sup>k</sup></strong> candidates (Problem A: 260 paths, timed out at 120s).
          With Express: only the paths you actually navigate are computed.
        </figcaption>
      </figure>
    </div>
  </div>
</section>

<!-- ‚ïê‚ïê‚ïê Install ‚ïê‚ïê‚ïê -->
<section id="install" class="section alt-section" aria-labelledby="install-title">
  <div class="container">
    <h2 id="install-title" class="section-title">Get started</h2>

    <!-- Tab switcher -->
    <div class="install-tabs" role="tablist" aria-label="Installation method">
      <button class="tab-btn tab-btn--active" role="tab" aria-selected="true"  aria-controls="tab-docker" id="tab-docker-btn">
        <svg aria-hidden="true" width="15" height="15" viewBox="0 0 24 24" fill="currentColor"><path d="M13.983 11.078h2.119a.186.186 0 00.186-.185V9.006a.186.186 0 00-.186-.186h-2.119a.185.185 0 00-.185.185v1.888c0 .102.083.185.185.185m-2.954-5.43h2.118a.186.186 0 00.186-.186V3.574a.186.186 0 00-.186-.185h-2.118a.185.185 0 00-.185.185v1.888c0 .102.082.185.185.185m0 2.716h2.118a.187.187 0 00.186-.186V6.29a.186.186 0 00-.186-.185h-2.118a.185.185 0 00-.185.185v1.887c0 .102.082.186.185.186m-2.93 0h2.12a.186.186 0 00.184-.186V6.29a.185.185 0 00-.185-.185H8.1a.185.185 0 00-.185.185v1.887c0 .102.083.186.185.186m-2.964 0h2.119a.186.186 0 00.185-.186V6.29a.185.185 0 00-.185-.185H5.136a.186.186 0 00-.186.185v1.887c0 .102.084.186.186.186m5.893 2.715h2.118a.186.186 0 00.186-.185V9.006a.186.186 0 00-.186-.186h-2.118a.185.185 0 00-.185.185v1.888c0 .102.082.185.185.185m-2.93 0h2.12a.185.185 0 00.184-.185V9.006a.185.185 0 00-.184-.186h-2.12a.185.185 0 00-.184.185v1.888c0 .102.083.185.185.185m-2.964 0h2.119a.185.185 0 00.185-.185V9.006a.185.185 0 00-.184-.186h-2.12a.186.186 0 00-.186.186v1.887c0 .102.084.185.186.185m-2.92 0h2.12a.186.186 0 00.184-.185V9.006a.185.185 0 00-.184-.186h-2.12a.185.185 0 00-.185.186v1.887c0 .102.082.185.185.185M23.763 9.89c-.065-.051-.672-.51-1.954-.51-.338.001-.676.03-1.01.087-.248-1.7-1.653-2.53-1.716-2.566l-.344-.199-.226.327c-.284.438-.49.922-.612 1.43-.23.97-.09 1.882.403 2.661-.595.332-1.55.413-1.744.42H.751a.751.751 0 00-.75.748 11.376 11.376 0 00.692 4.062c.271.747.574 1.5 1.005 2.096 1.489 2.095 3.495 3.141 6.55 3.141 1.327.005 2.648-.224 3.898-.675a11.5 11.5 0 003.233-1.803 9.919 9.919 0 002.145-2.638c.917-1.548 1.462-3.282 1.61-5.007h.14c.864 0 1.396-.35 1.692-.643.294-.292.484-.648.572-1.035z"/></svg>
        Docker <span class="tab-recommended">recommended</span>
      </button>
      <button class="tab-btn" role="tab" aria-selected="false" aria-controls="tab-stack" id="tab-stack-btn">
        <svg aria-hidden="true" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="16 18 22 12 16 6"/><polyline points="8 6 2 12 8 18"/></svg>
        Build from source
      </button>
    </div>

    <!-- Docker tab -->
    <div id="tab-docker" class="tab-panel" role="tabpanel" aria-labelledby="tab-docker-btn">
      <div class="install-grid">

        <div class="install-block install-block--wide">
          <h3>Run with Docker</h3>
          <p class="install-block-desc">No Haskell toolchain or Japanese NLP tools required ‚Äî everything is bundled in the image.</p>
          <pre class="code-block" aria-label="Docker run command"><code><span class="tok-comment"># Pull and run (first pull: ~3 GB, CPU-only)</span>
docker run -p 3000:3000 kohapizza/express

<span class="tok-comment"># Open in browser</span>
<span class="tok-comment"># ‚Üí http://localhost:3000</span>

<span class="tok-comment"># Different JSeM problem ID</span>
docker run -p 3000:3000 kohapizza/express --jsemid 207</code></pre>
          <div class="docker-note">
            <svg aria-hidden="true" width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
            Uses <strong>KWJA</strong> (default morphological analyzer) with CPU-only PyTorch.
            Build from source to use JUMAN++ or JUMAN instead.
          </div>
        </div>

        <div class="install-block">
          <h3>Build the image yourself</h3>
          <pre class="code-block" aria-label="Docker build commands"><code>git clone https://github.com/DaisukeBekki/lightblue
cd lightblue

<span class="tok-comment"># Build (~30‚Äì60 min first time)</span>
docker build -t express .

docker run -p 3000:3000 express</code></pre>
          <p class="install-note">
            Source: <a href="https://github.com/DaisukeBekki/lightblue" target="_blank" rel="noopener noreferrer">github.com/DaisukeBekki/lightblue</a>
          </p>
        </div>

      </div>
    </div>

    <!-- Stack tab -->
    <div id="tab-stack" class="tab-panel tab-panel--hidden" role="tabpanel" aria-labelledby="tab-stack-btn">
      <div class="install-grid">

        <div class="install-block">
          <h3>Requirements</h3>
          <ul class="req-list">
            <li><span class="req-name">GHC</span> <span class="req-ver">8.10.7</span></li>
            <li><span class="req-name">Stack</span> <span class="req-ver">latest</span></li>
            <li><span class="req-name">KWJA</span> <span class="req-ver">pip install kwja</span></li>
            <li><span class="req-name">JSeM data</span> <span class="req-ver">github.com/DaisukeBekki/JSeM</span></li>
          </ul>
        </div>

        <div class="install-block install-block--wide">
          <h3>Build &amp; run</h3>
          <pre class="code-block" aria-label="Stack build and run commands"><code>git clone https://github.com/DaisukeBekki/lightblue
cd lightblue

<span class="tok-comment"># Clone JSeM dataset</span>
git clone https://github.com/DaisukeBekki/JSeM

<span class="tok-comment"># Install KWJA (morphological analyzer)</span>
pip install kwja

<span class="tok-comment"># Build (first run takes ~30 min)</span>
stack build

<span class="tok-comment"># Set environment variable (trailing slash required)</span>
export LIGHTBLUE=$(pwd)/

<span class="tok-comment"># Launch Express</span>
./lightblue jp jsem --jsemid 720 --nsample 1 \
  -s express \
  -f JSeM/data/v1.0/Verbs.xml \
  --nparse 4 --ntypecheck 4 --nproof 1 \
  --maxdepth 5 --depth 0

<span class="tok-comment"># ‚Üí http://localhost:3000</span></code></pre>
          <p class="install-note">
            Full setup (LIGHTBLUE env var, JSeM path):
            see <a href="https://github.com/DaisukeBekki/lightblue" target="_blank" rel="noopener noreferrer">README on GitHub</a>.
          </p>
        </div>

      </div>
    </div>

    <div class="install-footer">
      <span class="license-pill-inline">BSD 3-Clause</span>
      Express is free and open-source.
      <a href="https://github.com/DaisukeBekki/lightblue" target="_blank" rel="noopener noreferrer">View source on GitHub ‚Üí</a>
    </div>

  </div>
</section>

</main>

<!-- ‚ïê‚ïê‚ïê Footer ‚ïê‚ïê‚ïê -->
<footer class="site-footer" role="contentinfo">
  <div class="container footer-inner">
    <div class="footer-col">
      <strong>Links</strong>
      <ul class="footer-links">
        <li><a href="https://github.com/DaisukeBekki/lightblue" target="_blank" rel="noopener noreferrer">GitHub (lightblue)</a></li>
        <li><a href="#demo">Demo Videos</a></li>
        <li><a href="#install">Get Started</a></li>
      </ul>
    </div>
  </div>
  <p class="footer-copy">
    Express is part of the <a href="https://github.com/DaisukeBekki/lightblue">lightblue</a> project.
    BSD 3-Clause License.
  </p>
</footer>

<!-- ‚ïê‚ïê‚ïê Lightbox ‚ïê‚ïê‚ïê -->
<div id="lightbox" class="lightbox" role="dialog" aria-modal="true" aria-label="Image viewer" tabindex="-1" hidden>
  <button class="lightbox-close" aria-label="Close image viewer">
    <svg aria-hidden="true" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
  </button>
  <div class="lightbox-content" aria-live="polite">
    <img class="lightbox-img" src="" alt="">
  </div>
  <p class="lightbox-caption"></p>
</div>

<script src="script.js"></script>
</body>
</html>
